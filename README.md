# 📚 考研学习规划助手

一款专为考研学生设计的桌面学习管理应用，帮助你高效规划学习、追踪进度、保持专注。

## 🎯 功能概览

| 功能模块 | 说明 |
|---------|------|
| 🏠 主页仪表盘 | 今日任务概览、学习进度、快捷操作入口 |
| 📋 学习规划 | 每日任务管理、长期计划、AI智能规划 |
| 🍅 番茄钟 | 专注计时、白噪音、专注模式 |
| 🤖 AI答疑 | 考研问题智能解答 |
| ❌ 错题本 | 错题记录与复习 |
| 📊 学习统计 | 数据分析、成就系统、目标追踪 |
| 📝 每日复盘 | 学习总结与AI建议 |
| ⏱️ 倒计时 | 考试倒计时、多背景样式 |

---

## 🚀 快速开始

### 环境要求
- Node.js 20.19+ 或 22.12+
- Rust 1.70+
- MySQL 8.0+

### 安装步骤

```bash
# 1. 克隆项目
git clone https://github.com/lsmx0/study-planner.git
cd study-planner

# 2. 安装前端依赖
npm install

# 3. 配置数据库
# 在 MySQL 中创建数据库 study_planner
# 执行 database/init.sql 初始化表结构

# 4. 开发模式运行
npm run tauri dev

# 5. 构建安装包
npm run tauri build
```

### 数据库配置
在 `src-tauri/src/db/mod.rs` 中配置数据库连接：
```rust
host: "47.86.24.6"
user: "root"
password: "your_password"
database: "study_planner"
```

---

## 📖 功能详细说明

### 🏠 主页仪表盘

主页展示今日学习概况，包括：
- **今日任务进度** - 已完成/总任务数，进度条显示
- **今日学习时长** - 累计学习小时数
- **番茄钟数量** - 今日完成的番茄钟个数
- **快捷操作** - 6个常用功能入口（学习规划、AI答疑、错题本、学习统计、每日复盘、倒计时）
- **考试倒计时** - 显示最近的考试倒计时
- **快捷番茄钟** - 一键开始15/25/45分钟专注
- **励志语录** - 随机显示考研励志语句

---

### � 学习规划

学习规划是核心功能，包含5个子模块：

#### 📋 今日任务
- **添加任务** - 设置科目、时间段、内容、闹钟提醒
- **任务状态** - 点击切换完成/未完成状态
- **拖拽排序** - 拖动任务调整顺序
- **编辑/删除** - 修改或删除已有任务

#### 📅 长期计划（新功能）
支持创建周计划、月计划、自定义计划：

1. **周计划** - 自动设置本周一到周日
2. **月计划** - 自动设置本月第一天到最后一天  
3. **自定义计划** - 自由设置时间范围

每个计划包含多个目标，AI规划时会参考这些长期目标。

**使用方法：**
1. 点击「📅 长期计划」Tab
2. 选择「新建周计划」「新建月计划」或「自定义计划」
3. 填写计划名称和目标列表
4. 保存后，AI规划会自动参考这些目标

#### 🤖 AI智能规划
根据你的学习偏好和长期计划，AI自动生成每日学习计划。

**使用方法：**
1. 首次使用需配置 AI API（硅基流动）
2. 选择要使用的AI模型（支持15+模型）
3. 勾选要安排的科目
4. 可选：勾选「参考长期计划」让AI参考你的周/月目标
5. 填写额外说明（如"今天想多复习数学"）
6. 点击「生成计划」
7. 查看AI建议，可编辑后导入

**支持的AI模型：**
- 🆓 免费模型：Qwen2.5-7B、GLM-4-9B、InternLM2.5-7B
- ⭐ 通义千问：Qwen2.5-14B/32B/72B、QwQ-32B
- 🔥 DeepSeek：DeepSeek-V2.5、DeepSeek-V3

#### ✅ 完成检查
输入你完成的学习内容，系统会模糊匹配今日任务并自动标记完成。

#### ⚙️ 学习设置
配置学习偏好：
- 学习阶段（基础/强化/冲刺）
- 考试日期
- 每日学习时长
- 学习时间段
- 午休时间
- 重点科目/薄弱科目
- 学习计划模板（一键应用预设配置）

---

### 🍅 番茄钟

专注学习的核心工具，支持多种功能：

#### 基础功能
- **工作/休息模式** - 可切换工作和休息计时
- **预设时长** - 工作：15/25/30/45/60分钟，休息：5/10/15/20分钟
- **自定义时长** - 输入任意时长
- **科目关联** - 选择科目记录学习时间
- **历史记录** - 查看最近的番茄钟记录

#### 🎵 白噪音（本地生成）
使用 Web Audio API 本地生成，无需网络：
- 白噪音、粉噪音、棕噪音
- 雨声、风声、海浪、篝火
- 音量可调节

**使用方法：**
1. 点击「白噪音」按钮展开面板
2. 选择音效类型
3. 调节音量
4. 开始计时后自动播放

#### 🔒 专注模式
全屏锁定界面，帮助保持专注：
- 大尺寸计时器显示
- 窗口切换检测（切换到其他应用会显示警告）
- 分心次数统计
- 计时中无法退出，必须完成或放弃

**使用方法：**
1. 点击「🔒 专注模式」按钮
2. 设置时长后点击「开始专注」
3. 专注期间尽量不要切换应用
4. 完成后自动退出，或点击「放弃」退出

#### ⌨️ 快捷键
- `空格` - 开始/暂停
- `Esc` - 取消当前计时

---

### 🤖 AI答疑

智能考研问答助手，支持：
- **预设问题** - 常见考研问题快捷提问
- **自由提问** - 输入任何考研相关问题
- **Markdown渲染** - AI回答支持格式化显示
- **多模型选择** - 支持15+AI模型

**配置方法：**
1. 点击「⚙️ 配置」按钮
2. 输入硅基流动 API Key（在 https://siliconflow.cn 获取）
3. 选择默认模型
4. 保存配置

---

### ❌ 错题本

记录和复习错题：
- **添加错题** - 记录题目、错误原因、正确答案、知识点
- **科目分类** - 按科目筛选错题
- **复习状态** - 标记已复习/未复习
- **搜索功能** - 快速查找错题

---

### 📊 学习统计

全面的学习数据分析：

#### 数据概览
- 总学习时长
- 完成任务数
- 总任务数
- 完成率

#### 图表分析
- **科目分布** - 饼图显示各科目学习时长占比
- **完成率趋势** - 折线图显示每日完成率变化
- **每日任务** - 柱状图对比每日任务完成情况
- **周数据对比** - 本周vs上周任务数和完成率

#### 🎯 学习目标
设置每日/每周学习目标，追踪完成进度。

#### 🏆 成就系统
10个成就徽章，激励持续学习：
- 初出茅庐（完成第1个任务）
- 小有成就（完成10个任务）
- 勤奋学者（完成50个任务）
- 学霸之路（完成100个任务）
- 初次专注（累计学习1小时）
- 持之以恒（累计学习10小时）
- 学习达人（累计学习50小时）
- 百小时俱乐部（累计学习100小时）
- 高效执行（完成率80%）
- 完美主义（完成率100%）

#### 📥 数据导出
导出学习数据为CSV文件，方便备份和分析。

---

### 📝 每日复盘

每日学习总结与反思：

#### 填写复盘
- **今日感受** - 记录学习状态和心情
- **遇到困难** - 记录学习中的问题
- **AI建议** - 根据复盘内容获取AI改进建议

#### 历史复盘
- 查看历史复盘记录
- 点击「查看」查看详情
- 点击「编辑」修改内容

---

### ⏱️ 倒计时

考试倒计时功能：

#### 主倒计时
- 设置考试名称和日期
- 大字显示剩余天数
- 支持正计时（考试后显示已过天数）

#### 子倒计时
为不同考试设置多个倒计时。

#### 🎨 背景样式
15种预设背景 + 自定义URL：
- 渐变色背景（紫色、蓝色、绿色等）
- 自然风景（星空、森林、海洋等）
- 自定义图片URL

---

### 📚 科目管理

管理学习科目：
- 添加/编辑/删除科目
- 设置科目颜色
- 科目用于任务分类和统计

---

### 👥 用户管理（管理员）

管理员专属功能：
- 查看所有用户
- 创建新用户
- 修改用户角色
- 删除用户

---

## 🎨 主题切换

支持3种主题：
- 🌙 深色模式 - 适合夜间使用
- ☀️ 浅色模式 - 适合白天使用
- 🌿 护眼模式 - 绿色护眼，减少疲劳

点击侧边栏底部的主题图标切换。

---

## ⌨️ 快捷键汇总

| 快捷键 | 功能 | 页面 |
|-------|------|------|
| `空格` | 开始/暂停计时 | 番茄钟 |
| `Esc` | 取消计时 | 番茄钟 |

---

## 🔧 技术栈

- **前端**: React 18 + TypeScript + Vite + TailwindCSS
- **后端**: Tauri 2.0 + Rust
- **数据库**: MySQL 8.0
- **图表**: Recharts
- **拖拽**: @dnd-kit
- **AI**: 硅基流动 API

---

## 📁 项目结构

```
study-planner/
├── src/                    # 前端源码
│   ├── components/         # 通用组件
│   ├── pages/              # 页面组件
│   │   ├── AIChat.tsx      # AI答疑
│   │   ├── Countdown.tsx   # 倒计时
│   │   ├── Login.tsx       # 登录
│   │   ├── Pomodoro.tsx    # 番茄钟
│   │   ├── Review.tsx      # 每日复盘
│   │   ├── Stats.tsx       # 学习统计
│   │   ├── StudyPlan.tsx   # 学习规划
│   │   ├── Subjects.tsx    # 科目管理
│   │   ├── UserManagement.tsx # 用户管理
│   │   └── WrongNotes.tsx  # 错题本
│   ├── stores/             # 状态管理
│   ├── App.tsx             # 主应用
│   └── main.tsx            # 入口文件
├── src-tauri/              # Rust后端
│   ├── src/
│   │   ├── commands/       # Tauri命令
│   │   ├── models/         # 数据模型
│   │   ├── services/       # 业务逻辑
│   │   ├── db/             # 数据库连接
│   │   └── lib.rs          # 入口
│   └── Cargo.toml          # Rust依赖
├── database/
│   └── init.sql            # 数据库初始化脚本
└── package.json            # 前端依赖
```

---

## 🐛 常见问题

### Q: AI功能无法使用？
A: 需要先配置硅基流动 API Key。在「学习规划 > 设置」或「AI答疑 > 配置」中设置。

### Q: 白噪音没有声音？
A: 白噪音使用本地 Web Audio API 生成，请确保：
1. 浏览器/应用未静音
2. 系统音量正常
3. 点击音效按钮后等待1-2秒

### Q: 专注模式无法完全阻止切换应用？
A: 由于操作系统限制，桌面应用无法完全阻止用户切换应用。专注模式会检测窗口失焦并显示警告，统计分心次数。

### Q: 数据库连接失败？
A: 检查 `src-tauri/src/db/mod.rs` 中的数据库配置是否正确。

---

## 📄 许可证

MIT License

---

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

GitHub: https://github.com/lsmx0/study-planner
